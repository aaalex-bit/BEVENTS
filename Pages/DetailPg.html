<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event Details | BEEVENTS</title>

  <!-- shared css -->
  <link rel="stylesheet" href="../Constants/Constants.css" />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
  />
</head>

<body>

  <!-- HEADER (same layout as HomePg) -->
  <header>
    <div class="brand">
      <img src="../Assets/logo.jpeg" alt="BEEVENTS Logo" id="logo" class="logo" />
      <h1 class="brand-name">BISONS EVENTS HUB</h1>
    </div>

    <nav>
      <a href="./LoginPg.html" id="admin-btn">Sign Up As Admin</a>
    </nav>
  </header>

  <!-- MAIN -->
  <main class="detail-page">

    <!-- Poster + main info -->
    <section class="detail-hero">

      <div class="detail-poster">
        <!-- backend/js can replace src later -->
        <img
          id="detail-img"
          src="../Assets/background.png"
          alt="Event Poster"
        />
      </div>

      <div class="detail-info">
        <!-- backend/js can replace text later -->
        <h2 id="detail-title">Trivia Night</h2>

        <div class="detail-meta">
          <p><span class="meta-label">Date:</span> <span id="detail-date">Feb 23</span></p>
          <p><span class="meta-label">Time:</span> <span id="detail-time">8:00 pm - 11:00 pm</span></p>
          <p><span class="meta-label">Price:</span> <span id="detail-price">Free</span></p>
          <p><span class="meta-label">Location:</span> <span id="detail-location">UMSU University Centre</span></p>
        </div>

        <!-- more info link (official page) -->
        <!-- more info link (official page) -->
<div class="detail-actions">
  <a
    href="https://example.com"
    target="_blank"
    class="primary-btn"
    id="more-info-btn"
    rel="noopener noreferrer"
  >
    More Info
  </a>

  <a
    href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Trivia+Night&dates=20250223T200000/20250223T230000&details=Join+us+for+trivia+night!&location=UMSU+University+Centre"
    target="_blank"
    class="secondary-btn"
    id="add-calendar-btn"
    rel="noopener noreferrer"
  >
    Add to Google Calendar
  </a>
</div>
        <!-- optional: back link near top -->
        <div class="back-row">
          <a href="./HomePg.html" class="back-link" id="back-home">← Back to Events</a>
        </div>
      </div>

    </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-container">

      <div class="footer-brand">
        <h2>BISONS EVENTS HUB</h2>
        <p>Connecting students to campus experiences.</p>
      </div>

      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="./HomePg.html">Home</a></li>
          <li><a href="./HomePg.html#events-section">Events</a></li>
          <li><a href="./LoginPg.html">Admin</a></li>
        </ul>
      </div>

      <div class="footer-contact">
        <h4>Contact</h4>
        <p><i class="fa-solid fa-envelope"></i> info@bevents.ca</p>
        <p><i class="fa-solid fa-location-dot"></i> Winnipeg, MB</p>
      </div>

    </div>

    <div class="footer-bottom">
      © 2025 BEVENTS. All rights reserved.
    </div>
  </footer>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    // 1. Get the data from localStorage
    const eventDataString = localStorage.getItem('selectedEvent');
    
    if (!eventDataString) {
      console.error("No event data found!");
      return;
    }

    const event = JSON.parse(eventDataString);

    // 2. Map the data to your HTML IDs
    document.getElementById('detail-title').textContent = event.title;
    document.getElementById('detail-img').src = event.image || "../Assets/background.png";
    document.getElementById('detail-date').textContent = event.date;
    document.getElementById('detail-time').textContent = `${event.start_time} - ${event.end_time}`;
    document.getElementById('detail-price').textContent = "Free"; // or event.price if available
    document.getElementById('detail-location').textContent = event.source;

    // 3. Set the "More Info" button to the actual external link
    const infoBtn = document.getElementById('more-info-btn');
    infoBtn.href = event.link;

    // 4. Update Google Calendar link (Optional but cool)
    const calendarBtn = document.getElementById('add-calendar-btn');
    const googleTitle = encodeURIComponent(event.title);
    calendarBtn.href = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${googleTitle}&details=Check+out+this+event+from+BEVENTS!&location=${event.source}`;
  });
</script>
</body>
</html>